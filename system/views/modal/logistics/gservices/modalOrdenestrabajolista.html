<md-dialog aria-label="Dialog" class="form-content-alt modal-dialog modal-lg" ng-controller="workordersListExtendsCtrl">
  <form name="formData">
  <md-toolbar>
    <div class="md-toolbar-tools">
			<md-button aria-label="btn" class="md-icon-button"><md-ico i=local_car_wash></md-ico></md-button>
			<h2 translate>TOOLBAR_WORK_ORDER</h2>
      <span flex></span>
      <md-button aria-label="btn" class="md-icon-button" aria-label="Close dialog" ng-click="closeDialog()"><md-ico i=remove></md-ico></md-button>
    </div>
  </md-toolbar>
  <md-dialog-content>
		<md-content layout=column layout-padding>
			
				<!-- FORMULARIO DE REGISTRO -->
				<div class="card card-outline card-success no-margin" layout-padding>
					<div class="card-header text-center">
					  <h3 class="card-title" translate>LB_REGISTRATION_FORM</h3>
					</div>
					<div class="card-body padding-all" layout=column layout-padding>
						<div class="form-group required" flex>
			    		<label translate>{{frmParent.administrative.puesto_definicion}}</label>
						  <div class="input-group">
								<div class="input-group-prepend"><div class="input-group-text"><md-ico i=person></md-ico></div></div> 
								<input class="form-control" ng-model="frmParent.administrative.personal_nombre" readonly="readonly" />
							</div>
			    	</div>
						<div class="form-group required" flex>
			    		<label translate>LB_RESPONSABLE</label>
						  <div class="input-group">
								<div class="input-group-prepend"><div class="input-group-text"><md-ico i=how_to_reg></md-ico></div></div> 
								<input class="form-control" ng-model="frmParent.professional.personal_nombre" readonly="readonly" />
							</div>
			    	</div>
						<div class="form-group required" flex>
			    		<label translate>LB_CHARGE_RESPONSIBLE</label>
						  <div class="input-group">
								<div class="input-group-prepend"><div class="input-group-text"><md-ico i=how_to_reg></md-ico></div></div> 
								<select class="form-control" ng-model="frmParent.tecnico_puesto" required ng-options="val as val for (key,val) in string2JSON('WORK_ORDER_RESPONSABLE_CARGO')"></select>
							</div>
			    	</div>
			    	
						<div class="form-group required">
			    		<label translate>LB_TYPE_JOB</label>
						  <div class="input-group">
								<div class="input-group-prepend"><div class="input-group-text"><md-ico i=flag></md-ico></div></div> 
								<select class="form-control" ng-model="frmParent.orden_tipo" required ng-options="val as val for (key,val) in string2JSON('WORK_ORDER_TYPE')"></select>
							</div>
			    	</div>
						<div class="form-group required">
			    		<label translate>LB_DESTINATION</label>
						  <div class="input-group">
									<div class="input-group-prepend"><div class="input-group-text"><md-ico i=location_on></md-ico></div></div> 
									<input class="form-control" ng-model="frmParent.orden_destino" placeholder="Ej. Estación 2" required />
							</div>
			    	</div>
			    	
			    	<div layout-xs=column layout=row layout-padding>
				    	<div class="form-group required" flex>
				    		<label translate>LB_DATE_ISSUE</label>
							  <div class="input-group" moment-picker="frmParent.orden_fecha_emision">
									<div class="input-group-prepend"><div class="input-group-text"><md-ico i=event_available></md-ico></div></div> 
									<input class="form-control" ng-model="frmParent.orden_fecha_emision" placeholder="Ej. 2006-06-06" required>
								</div>
				    	</div>
				    	<div class="form-group required" flex>
				    		<label translate>LB_VALID_UNTIL</label>
							  <div class="input-group" min-date="frmParent.orden_fecha_emision" moment-picker="frmParent.orden_fecha_validez" format="YYYY-MM-DD">
									<div class="input-group-prepend"><div class="input-group-text"><md-ico i=event_busy></md-ico></div></div> 
									<input class="form-control" ng-model="frmParent.orden_fecha_validez" ng-model-options="{ updateOn: 'blur' }" ng-model-options="{ updateOn: 'blur' }" placeholder="Ej. 2006-06-06" required>
								</div>
				    	</div>
			    	</div>
					</div>
				</div>
				
				<!-- LISTADO DE RECURSOS -->
				<div class="card card-outline card-info no-margin no-padding margin-top">
					<div class="card-header text-center">
						<h3 class="card-title no-margin" translate>LB_UNITS</h3>
					</div>
					<div class="card-body">
						<!-- ARTÍCULOS -->
						<div class="col-md-4 col-xs-12 md-2-line contact-item margin-bottom" ng-repeat="item in FKListUnits">
				       <label class="label">
						    <input  class="label__checkbox" type="checkbox" checklist-model="frmParent.selected" checklist-value="item.unidad_id" />
						    <span class="label__text">
						      <span class="label__check">
						        <i class="fa fa-check icon"></i>
						      </span>
						    </span>
						  </label>
				       <div class="md-list-item-text compact">
				        	<span class="text-bold" ng-bind-html="highlight(item.unidad_nombre+' '+item.vehiculo_placa)"></span>
		          		<p style="font-size:11px;" ng-bind-html="highlight(item.estacion)"></p>
				       </div>
						</div>
					</div>
				</div>
			
		</md-content>
	</md-dialog-content>
	<md-dialog-actions layout="row">
		<md-button type="button" ng-click="submitForm()" ng-disabled="formData.$invalid"><span translate>BTN_SAVE</span></md-button>
		<span flex></span>
		<md-button type="button" ng-click="closeDialog()"><span translate>BTN_CANCEL</span></md-button>
	</md-dialog-actions>
  </form>
</md-dialog>