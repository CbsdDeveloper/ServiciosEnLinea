<div layout=column layout-gt-xs=row>
	<div flex>
		<frm-s-i-floor></frm-s-i-floor>
	</div>
	
	<div flex>
		<div class="box box-info">
			<div class="box-header text-center">
				<h3>m²</h3>
			  <h3 class="box-title" translate>LB_PLACE_AREA</h3>
			</div>
			<div class="box-body" layout=column layout-padding>
				<div ng-class="['form-group','required',{'has-error':frmLocal.local_area_planta_baja<1}]">
					<label translate>LB_ADMINISTRATIVE_AREA</label>
					<div class="input-group">
						<div class="input-group-addon"><md-ico i=info_outline></md-ico></div>
						<input class="form-control" type="number" step="0.01" min=0 max="100000" required parse-float ng-model="frmLocal.local_area_planta_baja" ng-change="getArea()" />
		        <div class="input-group-addon">(m²)</div>
					</div>
					<i-error ng-if="frmLocal.local_area_planta_baja<1" t="Debe ser mayor 0"></i-error>
				</div>
				<div class="form-group required">
					<label translate>LB_AREA_PRODUCTION</label>
					<div class="input-group">
						<div class="input-group-addon"><md-ico i=info_outline></md-ico></div>
						<input class="form-control" type="number" step="0.01" min=0 parse-float ng-model="frmLocal.local_area_subsuelos" ng-change="getArea()" />
		        <div class="input-group-addon">(m²)</div>
					</div>
				</div>
				<div class="form-group required">
					<label translate>LB_BUILDING_AREA</label>
					<div class="input-group">
						<div class="input-group-addon"><md-ico i=info_outline></md-ico></div>
						<input class="form-control" type="number" step="0.01" min=1 readonly parse-float ng-model="frmLocal.local_area_construccion" />
		        <div class="input-group-addon">(m²)</div>
					</div>
				</div>
				<div ng-class="['form-group','required',{'has-error':(frmLocal.local_area<1 || frmLocal.local_area_construccion<frmLocal.local_area)}]">
					<label translate>LB_USEFUL_AREA</label>
					<div class="input-group">
						<div class="input-group-addon"><md-ico i=aspect_ratio></md-ico></div>
						<input class="form-control" type="number" step="0.01" min=1 max="{{frmLocal.local_area_construccion}}" parse-float ng-model="frmLocal.local_area" />
		        <div class="input-group-addon">(m²)</div>
					</div>
					<i-error ng-if="frmLocal.local_area<1" t="Debe ser mayor 0"></i-error>
					<i-error t="El área útil no debe ser mayor al área total"></i-error>
				</div>
			</div>
		</div>
	</div>
	
	<div flex>
		<div class="box box-danger">
			<div class="box-header text-center">
				<h3><md-ico i=group></md-ico></h3>
			  <h3 class="box-title" translate>SI_PEOPLE_TITLE</h3>
			</div>
			<div class="box-body" layout=column layout-padding>
				<div ng-class="['form-group','required',{'has-error':frmLocal.local_ocupantes<1}]">
				  <label translate>LB_PEOPLE_WORK</label>
				  <div class="input-group">
				    <div class="input-group-addon"><md-ico i=info_outline></md-ico></div>
				    <input class="form-control" type="number" step="1" min=0 required parse-float ng-model="frmLocal.local_ocupantes" ng-change="getAforo()" />
				  </div>
				  <i-error ng-if="frmLocal.local_ocupantes<1" t="Mínimo 1 ocupante"></i-error>
				</div>
				<div class="form-group required">
				  <label translate>LB_CLIENTS_PER_DAY</label>
				  <div class="input-group">
				    <div class="input-group-addon"><md-ico i=info_outline></md-ico></div>
				    <input class="form-control" type="number" step="1" min=0 parse-float ng-model="frmLocal.local_visitantes" ng-change="getAforo()" />
				  </div>
				</div>
				<div ng-class="['form-group','required',{'has-error':frmLocal.local_ocupantes<1}]">
				  <label translate>LB_CAPACITY_TOTAL</label>
				  <div class="input-group">
				    <div class="input-group-addon"><md-ico i=group></md-ico></div>
				    <input class="form-control" type="number" step="1" min=1 readonly parse-float ng-model="frmLocal.local_aforo" />
				  </div>
				  <i-error ng-if="frmLocal.local_ocupantes<1" t="Aforo mínimo requerido: 1"></i-error>
				</div>
			</div>
			<div class="box-footer" layout-xs=column layout=row layout-padding>
				<div flex>
					<button ui-sref="permits.selfInspection.step1({id:local.local_id})" class="btn btn-warning btn-block">
				  	<i-fa i=angle-double-left></i-fa> <span translate>BTN_PREV</span>
					</button>
				</div>
				<div flex>
				  <button ng-click="getForm()" ng-disabled="formData.$invalid" class="btn btn-success btn-block">
						<span translate>BTN_NEXT</span> <i-fa i=angle-double-right></i-fa>
					</button>
				</div>
			</div>
		</div>
	</div>
</div>